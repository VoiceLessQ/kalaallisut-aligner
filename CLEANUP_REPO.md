# Repository Cleanup Guide

## Summary

The `.gitignore` file has been updated to properly exclude generated files, large data files, and temporary files from the repository. This keeps the repo clean and focused on source code.

## What's Now Ignored

### üìÅ Data Files (Generated/Large)
- `data/raw/*.txt` - Raw input data
- `data/processed/train.txt` - Training data (8,178 pairs, ~1MB)
- `data/processed/test.txt` - Test data
- `data/test/parallel_corpus_clean.txt` - Large corpus file (~1MB)
- `data/aligned/*.txt` - Alignment outputs

**Why:** These are either:
- Generated from scripts (can be recreated)
- Too large for version control
- User-specific data files

### üîä Audio Files
- `*.wav`, `*.mp3`, `*.ogg`, `*.flac`
- `Audio/` directory

**Why:** Audio files are large binary files that don't belong in git

### üóëÔ∏è Temporary/Backup Files
- `*.backup` (e.g., `train.txt.backup`, `alignment_stats.json.backup`)
- `*.bak`, `*~`
- `*.log`, `*.tmp`
- `clean up.md`

**Why:** Temporary files and backups shouldn't be tracked

### üîß Deployment Scripts
- `deploy_*.sh` (e.g., `deploy_all.sh`, `deploy_clean.sh`)

**Why:** These are usually environment-specific

### üíª System Files
- `*.lnk` (Windows shortcuts)
- `.DS_Store` (macOS)
- `Thumbs.db` (Windows)

**Why:** OS-specific files

## What's Kept in Repository

### ‚úÖ Source Code
- `src/*.py` - All Python source code
- `scripts/*.py` - Python scripts
- `scripts/*.sh` - Shell scripts (except deploy_*)
- `tests/*.py` - Test suite

### ‚úÖ Essential Data Files
- `data/processed/cognates.json` - Cognate dictionary (1,526 entries)
- `data/processed/hunalign_dict_full.txt` - Hunalign dictionary
- `data/processed/alignment_stats.json` - Alignment statistics
- `glosser/kalaallisut_english_dict.json` - Main dictionary (16,819 entries)
- `glosser/morpheme_glosses.json` - Morpheme glosses

**Why:** These are essential configuration/dictionary files needed for the aligner to work

### ‚úÖ Documentation
- `README.md`, `CHANGELOG.md`, `LICENSE`
- `CODE_RECOMMENDATIONS.md`, `ANALYSIS.md`, etc.
- `docs/` directory (source files)

### ‚úÖ Configuration
- `requirements.txt`
- `config.json.example`
- `.github/workflows/` - CI/CD configuration

## Files Currently Tracked That Should Be Removed

The following files are currently in git but should be removed:

```bash
# Files to remove from tracking:
clean up.md                          # Temporary notes
data/aligned/corpus_6798_pairs.txt   # Generated alignment output
data/aligned/test_output.txt         # Generated test output
deploy_all.sh                        # Deployment script
deploy_clean.sh                      # Deployment script
```

## How to Clean Up

### Option 1: Manual Cleanup (Recommended)

```bash
cd /home/voicelessq/kalaallisut-aligner

# Remove files from git tracking (but keep locally)
git rm --cached "clean up.md"
git rm --cached data/aligned/corpus_6798_pairs.txt
git rm --cached data/aligned/test_output.txt
git rm --cached deploy_all.sh
git rm --cached deploy_clean.sh

# Commit the changes
git add .gitignore
git commit -m "Update .gitignore and remove tracked generated files

- Add comprehensive .gitignore rules
- Remove large data files from tracking
- Remove generated outputs and backups
- Keep only essential dictionaries and stats
- Remove deployment scripts from tracking"

# The files remain on your local disk but won't be tracked
```

### Option 2: Use the Cleanup Script

```bash
cd /home/voicelessq/kalaallisut-aligner
./cleanup_tracked_files.sh
```

## After Cleanup

Your repository will:
- ‚úÖ Be much smaller (no large data files)
- ‚úÖ Be cleaner (no generated outputs)
- ‚úÖ Be focused on source code and essential configs
- ‚úÖ Still work perfectly (all essential files kept)

## Regenerating Data Files

If you clone the repo fresh, you can regenerate the ignored data files:

```bash
# Training data can be regenerated by:
1. Adding your parallel corpus to data/test/
2. Running: python3 scripts/append_parallel_corpus.py
3. Running: python3 scripts/calculate_stats_fast.py

# Or use existing alignments if you have them
```

## Important Notes

**The following files ARE kept** (explicitly allowed despite patterns):
- `data/processed/cognates.json` - Essential
- `data/processed/hunalign_dict_full.txt` - Essential
- `data/processed/alignment_stats.json` - Essential
- All `.py` files in examples/
- All documentation `.md` files (except temporary ones)

**Why keep alignment_stats.json?**
This small JSON file (< 1KB) contains the crucial statistics the aligner needs. Without it, users would need the full training data to regenerate it.

## Repository Size Impact

**Before cleanup:**
- Large training files: ~2-3 MB
- Audio files: varies
- Backups and duplicates: ~1 MB

**After cleanup:**
- Only source code and small config files
- Estimated size reduction: 70-80%
